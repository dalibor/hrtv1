-#################################################
-# !!!! this partial is duplicated in jQuery     #
-#      any changes here must be reflected there!#
-#################################################
- field = :"classifications[#{activity.id}][#{ca.code.id}]"
%tr{:"data-ca_id" => ca.id}
  %td.desc.wrap-60.tooltip
    %span.tooltip{:style => 'height: 100%'}
    = label_tag field, "#{ca.code.short_display}", :title => ca.code.description
    %span.context= ca.code.context
  %td.total
    = text_field_tag field, ca.amount || "#{ca.percentage}%", :class => 'js_ca'
  %td.actions
    = image_tag "delete_row.png", :class => 'js_remove_purpose delete_row pointer'
    -#= image_tag "ajax-loader.gif", :class => "ajax-loader", :style => 'display: none;'

:javascript
  $("td.tooltip").live('hover', function() {
    this.setAttribute("title", this.textContent)
  }).tipsy({gravity: w, live: true, html: true})
